@model E_infoGlobalNew.Models.Job

@{
    ViewBag.Title = "Apply";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- career single banner area start -->
<div class="career-single-banner-area ptb--60 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="career-page-single-banner center-aligh">
                    <span class="pre">Technology</span>
                    <h1 class="title">@Model.JobType</h1>
                    <div class="single-career-wrapper">
                        <div class="single">
                            <h5 class="title">Position</h5>
                            <span>@Model.Position</span>
                        </div>
                        <div class="single">
                            <h5 class="title">Location</h5>
                            <span>Karachi</span>
                        </div>
                        <div class="single">
                            <h5 class="title">Employment Type</h5>
                            <span>@Model.EmploymentType</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- career single banner area end -->
<!-- apply form here -->
<div class="apply-form-area-start rts-section-gapTop">
    <div class="container-contact">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center-title-bg-white">
                    <h2 class="title">Personal information</h2>
                    <p>We’d love to hear from you. Please fill out this form.</p>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="apply-job-form">
                    @using (Ajax.BeginForm("AppyNow", "Home", new AjaxOptions() { HttpMethod = "POST", OnSuccess = "FnSuccess", OnFailure = "FnFailed" },  new { enctype = "multipart/form-data", @class = "contact-form" }))
                    {
                        <div class="half-input-wrapper">
                            <div class="single">
                                <label for="name">First name *</label>
                                <input type="hidden" name="JobId" value="@Model.Id" required="">
                                <input type="text" name="Name" placeholder="First name" required="">
                            </div>
                            <div class="single">
                                <label for="Email">Email *</label>
                                <input type="email" name="Email" placeholder="you@gmail.com" required="">
                            </div>
                        </div>
                        <div class="half-input-wrapper">
                            <div class="single">
                                <label for="Number">Number *</label>
                                <input type="number" name="Number" placeholder="**** *******" required="">
                            </div>
                            <div class="single">
                                <label for="Qualification">Qualification *</label>
                                <select name="Qualification">
                                    <option value="0">Select Qualification</option>
                                    <option value="Matriculation">Matriculation</option>
                                    <option value="O Level">O Level</option>
                                    <option value="Intermediate">Intermediate</option>
                                    <option value="A Level">A Level</option>
                                    <option value="Undergraduate">Undergraduate</option>
                                    <option value="Bachelors">Bachelors</option>
                                    <option value="Masters">Masters</option>
                                    <option value="MBBS">MBBS</option>
                                    <option value="Pharm D">Pharm D</option>
                                    <option value="M.phil">M.phil</option>
                                    <option value="ph.D">ph.D</option>
                                    <option value="Diploma">Diploma</option>
                                    <option value="Certification">Certification</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="half-input-wrapper">
                            <div class="single">
                                <label for="Experience">Experience *</label>
                                <select name="Experience">
                                    <option value="0">Select Experience</option>
                                    <option value="Fresh">Fresh</option>
                                    <option value="1-2 Years">1-2 Years</option>
                                    <option value="3-5 Years">3-5 Years</option>
                                    <option value="5+ Years">5+ Years</option>
                                </select>
                            </div>
                            <label class="filelabel">
                                <i class="fa fa-paperclip">
                                </i>
                                <span class="title">
                                    Upload Your Cv (Required)
                                </span>
                                <input class="FileUpload1" name="FileResume" type="file" />
                            </label>
                        </div>
                        <button type="submit" class="rts-btn btn-primary pull-end">
                            Apply Now
                        </button>
                    }

                </div>
            </div>
        </div>
    </div>
</div>
<script>
    onFormSuccess = function (response) {
        var responseTypeArray = response.type.split('-');
        if (response.success == true) {
            className = "text-success";
        } else {
            className = "text-danger";
        }
        $.each(responseTypeArray, function (key, value) {
            if (value == "M") {
                toastr.success(response.message, "Success", {
                    timeOut: "5000"
                });
            } else if (value == "R") {
                $('form')[0].reset();
                $(".hidea-area").hide();
                if ($(".select2-zero").length > 0) {
                    $(".select2-zero").select2("val", "0");
                    $(".select2-zero").trigger('change.select2');
                } else if ($(".select2-hidden-accessible").length > 0) {
                    $(".select2-hidden-accessible").select2("val", "");
                    $(".select2-hidden-accessible").trigger('change.select2');
                }
            } else if (value == "T") {
                window.location = response.targetURL;
            } else if (value == "TD") {
                setTimeout(function () {
                    window.location = response.targetURL;
                }, 2000);
            } else if (value == "RL") {
                window.location.reload();
            } else if (value == "RLD") {
                setTimeout(function () {
                    window.location.reload();
                }, 2000);
            } else if (value == "D") {
                toastr.success(response.message, "Success", {
                    timeOut: "5000"
                });
            } else if (value == "MN") {
                var active = $('.nav-tabs-setup li.active');
                if (response.success == true) {
                    if (response.fieldName != "Exit") {
                        var nextActive = active.next().removeClass('disabled').addClass('active');
                        nextTab(nextActive);
                        toastr.success(response.message, "Success", {
                            timeOut: "5000"
                        });
                    } else {
                        toastr.success(response.message, "Success", {
                            timeOut: "5000"
                        });
                        setTimeout(function () {
                            window.location.reload();
                        }, 1000);
                    }
                    $('.nav-tabs-setup li[aria-expanded="false"]').addClass('active');
                } else {
                    $('#btnSubmit').show();
                    toastr.error(response.message, "Error", {
                        timeOut: "5000"
                    });
                }
            }
        });
    }
</script>